# FalconEye: AI-Powered Home Surveillance

Author: <Your Name>
Institute: <Your Institute>
Date: 20 Sep 2025

---

## Certificate
<Attach institute-prescribed certificate page>

## Declaration
<I declare that this work...>

## Abstract
FalconEye is a lightweight home-surveillance system combining ESP32/Pi camera inputs with on-device YOLOv8 inference, local clip storage, optional face identification, and mobile notifications. It supports remote access using Cloudflare Tunnels and offers a web dashboard for live monitoring, event review, and system control.

## Acknowledgement
<Thanks to mentors, peers, etc.>

## Table of Contents
<Auto-generated by your editor when exporting to PDF>

## List of Figures
- Fig 4.1 System Architecture — `assets/architecture.png`
- Fig 4.2 Input → Process → Output — `assets/flow_input_process_output.png`
- Fig 7.1 Class Distribution — `assets/class_distribution_present.png`
- Fig A.1 Dataset collage (today) — `assets/dataset_today_collage.jpg`
- Fig A.2 Dataset targets (today) — `assets/dataset_today_targets.jpg`

## List of Tables
- Table 3.1 Functional Requirements
- Table 3.2 Non-functional Requirements
- Table 6.1 Functional Test Cases (sample)
- Table A.1 Dataset sample (today) — `assets/dataset_sample_today_4.csv`

## List of Abbreviations
- API: Application Programming Interface
- PTZ: Pan-Tilt-Zoom
- MJPEG: Motion JPEG
- S3: Amazon Simple Storage Service
- YOLO: You Only Look Once

---

# 1 INTRODUCTION

## 1.1 Background & context
Affordable edge AI and microcontrollers (ESP32, Raspberry Pi Zero) enable real-time video analytics for household security. FalconEye leverages these to detect people, pets, and suspicious activity, with privacy-first local processing and selective cloud features.

## 1.2 Problem statement
Homes need low-cost surveillance that works on unstable networks, supports multiple camera types, and delivers timely notifications without leaking sensitive footage to third parties.

## 1.3 Objectives
- Real-time detection of relevant entities (person, cat, dog, vehicle).
- Motion-triggered clip recording with searchable metadata.
- Optional face identification for trusted residents.
- Mobile/web access, including secure remote access.
- Privacy-first: store data locally; configurable cloud export.

## 1.4 Relevance & scope of project
Focus on household perimeter monitoring. Two cameras (ESP32 snapshot, Pi MJPEG) covered; design supports additional IP cameras.

## 1.5 Significance & motivation
Reduce false alarms and improve response time with on-device AI while keeping ownership of data.

## 1.6 Chapter-wise summary
Brief overview of each chapter; see sections below for detail.

---

# 2 LITERATURE SURVEY

## 2.1 Review of Related Work
- Smart home surveillance using edge AI (YOLO variants)
- Face recognition on embedded devices (InsightFace, HOG-based)
- Notification systems (push/local, WebSockets)

## 2.2 Comparison Table
| System | On-device AI | Cloud Dependency | Face ID | Cost |
|---|---|---|---|---|
| FalconEye | Yes (YOLOv8) | Optional (S3, Cloudflare) | Optional | Low |
| Cloud NVR | Limited | High | Varies | Medium/High |
| DIY Motion + RTSP | No | None | No | Low |

## 2.3 Inferences
Edge AI reduces latency and improves privacy; combining snapshots and streams balances bandwidth and fidelity.

## 2.4 Research Gap
Most low-cost systems miss flexible network profiles, simple PTZ integration, and privacy-preserving notifications without third-party clouds.

---

# 3 REQUIREMENT

## 3.1 Problem Statement
See 1.2.

## 3.2 Functional Requirements (Table 3.1)
| ID | Requirement | Description | Status |
|---|---|---|---|
| FR1 | Live stream | Serve annotated stream for web/mobile | Implemented |
| FR2 | Object detection | YOLOv8 with class filtering | Implemented |
| FR3 | Clip recording | Save MP4 + thumbnail + metadata | Implemented |
| FR4 | Notifications | Local iOS notifications | Implemented |
| FR5 | Remote access | Cloudflare tunnel | Implemented |
| FR6 | Faces (opt) | Identify known faces | Optional |

## 3.3 Non-functional Requirements (Table 3.2)
| ID | Requirement | Measure/Target |
|---|---|---|
| NFR1 | Latency | < 300 ms frame-to-overlay on MPS |
| NFR2 | Storage footprint | 15s clips, rolling retention |
| NFR3 | Availability | Auto-retry network profiles |
| NFR4 | Privacy | Local-first, opt-in cloud |

## 3.4 Use Case Diagram
<Insert as Fig 3.x or describe primary actors: Homeowner (view, receive alerts), System (detect, record), Admin (configure).>

---

# 4 SYSTEM ANALYSIS & DESIGN

## 4.1 Proposed System
Cameras feed a Flask backend. YOLOv8 performs inference on CPU/MPS/CUDA. Event logic triggers clip recording, metadata tagging, and notifications. Cloudflare provides optional remote access.

## 4.2 System Design

### 4.2.1 High Level Design — System Architecture
See Fig 4.1: `assets/architecture.png`.

### 4.2.2 Low Level Design
- Sequence: Camera → Backend → YOLO → Event Logic → Storage/Notify.
- API endpoints:
  - `/camera/pan/<action>`: left|right|auto → forwards to `ESP_PAN_BASE_URL/move?dir=...`
  - `/clips`, `/clips/thumbnails/<file>`, `/system/status`, `/network/*`
- Algorithms: motion-triggered capture, cooldown debouncing, simple tamper detection (brightness threshold), intruder lingering check.

---

# 5 IMPLEMENTATION

## 5.1 Tools & Methodology
- Language: Python 3.13, Flask, OpenCV, Ultralytics YOLOv8, Torch
- Hardware: ESP32 Cam (JPG), Pi Zero (MJPEG)
- Optional: InsightFace/face_recognition, S3, Cloudflare

## 5.2 Code Snippets
- Model init: `model = YOLO("yolov8s.pt").to(DEVICE)`
- Pan proxy:
```python
@app.route("/camera/pan/<action>", methods=["POST"])  # left|right|auto
# forwards to f"{ESP_PAN_BASE_URL}/move?dir=..."
```
- Clip metadata management: `clips/metadata.json` with tags, duration, timestamp.

---

# 6 TESTING

## 6.1 Functional Test Cases (sample)
| Test Case ID | Module | Description | Inputs | Expected | Actual | Status | Remarks |
|---|---|---|---|---|---|---|---|
| T1 | Detection | Person detection overlays | live frame | box + label | box + label | PASS |  |
| T2 | Clips | Record 15s on detection | event trigger | MP4 + thumb + JSON | MP4 + thumb + JSON | PASS |  |
| T3 | Notifications | Local alert on person | detected_objects=["person"] | push shown | push shown | PASS |  |
| T4 | Remote | Cloudflare route working | GET / | 200 via hostname | 200 | PASS | Ensure DNS set |
| T5 | PTZ | Pan left/right | POST /camera/pan/left | 200 + forwarded | 200 | PASS | Requires ESP PTZ |

---

# 7 RESULTS & DISCUSSION

## 7.1 Analysis of Outcomes
- Real-time detection achieved on Apple Silicon (MPS). Stable 10 FPS capture.
- Low-bandwidth mode for mobile with JPEG quality reduction.

## 7.2 Graphical & Chart Representation
- Class mix: see Fig 7.1 `assets/class_distribution_present.png`.
- Dataset snapshots: `assets/dataset_today_collage.jpg`, `assets/dataset_today_targets.jpg`.

---

# 8 CONCLUSION & FUTURE SCOPE

## 8.1 Restatement of Problem Statement
Provide affordable, private, and effective home surveillance.

## 8.2 Major Findings & Implications
Edge inference plus simple event logic gives timely, privacy-preserving alerts.

## 8.3 Future Work
- Night-specific model tuning, thermal sensor fusion
- Multi-camera stitching, person re-identification
- Push via APNs/FCM, end-to-end encryption

---

# REFERENCES
[1] Jocher et al., YOLOv8, Ultralytics, 2023, https://docs.ultralytics.com/ (accessed Sep 20, 2025)
[2] InsightFace, Deep Glint, https://github.com/deepinsight/insightface (accessed Sep 20, 2025)
[3] Cloudflare Tunnels, https://developers.cloudflare.com/cloudflare-one/connections/connect-networks/ (accessed Sep 20, 2025)
[4] OpenCV, https://opencv.org/ (accessed Sep 20, 2025)

---

# APPENDIX
- Dataset + visuals: `assets/dataset_sample_today_4.png`, `assets/dataset_sample_table.png`
- Certificates & submissions: <Attach as required>
